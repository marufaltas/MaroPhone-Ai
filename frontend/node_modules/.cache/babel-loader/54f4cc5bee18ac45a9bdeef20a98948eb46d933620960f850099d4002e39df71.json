{"ast":null,"code":"import React,{useState,useEffect}from'react';import devicesData from'../data/devices.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DeviceSelector(_ref){let{lang='ar',onSelect,selectedDevice}=_ref;const[selectedId,setSelectedId]=useState((selectedDevice===null||selectedDevice===void 0?void 0:selectedDevice.id)||'');const[brands,setBrands]=useState([]);useEffect(()=>{// load brands from JSON data\nsetBrands(devicesData.brands||[]);},[]);const handleChange=e=>{const val=e.target.value;setSelectedId(val);const[brandKey,idx]=val.split('::');const brand=brands.find(b=>b.name===brandKey);const model=brand?brand.models[parseInt(idx,10)]:null;const dev=model?{id:val,model,brand:brand.name,brandAr:brand.ar}:null;onSelect&&onSelect(dev);};return/*#__PURE__*/_jsxs(\"div\",{style:{margin:'12px 0'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:6,color:'#fff',fontWeight:800},children:lang==='ar'?'اختر موديل الجهاز':'Select device model'}),/*#__PURE__*/_jsxs(\"select\",{value:selectedId,onChange:handleChange,style:{width:'100%',padding:'12px 14px',borderRadius:12,background:'rgba(255,255,255,0.02)',color:'#fff',border:'1px solid rgba(255,255,255,0.06)',fontWeight:700},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:lang==='ar'?'اختر الموديل':'Select model'}),brands.map(b=>/*#__PURE__*/_jsx(\"optgroup\",{label:lang==='ar'?b.ar:b.name,children:b.models.map((m,idx)=>/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(b.name,\"::\").concat(idx),children:m},\"\".concat(b.name,\"::\").concat(idx)))},b.name))]})]});}export default DeviceSelector;","map":{"version":3,"names":["React","useState","useEffect","devicesData","jsx","_jsx","jsxs","_jsxs","DeviceSelector","_ref","lang","onSelect","selectedDevice","selectedId","setSelectedId","id","brands","setBrands","handleChange","e","val","target","value","brandKey","idx","split","brand","find","b","name","model","models","parseInt","dev","brandAr","ar","style","margin","children","display","marginBottom","color","fontWeight","onChange","width","padding","borderRadius","background","border","map","label","m","concat"],"sources":["C:/Users/Pc/Desktop/kk/frontend/src/components/DeviceSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport devicesData from '../data/devices.json';\r\n\r\nfunction DeviceSelector({ lang = 'ar', onSelect, selectedDevice }) {\r\n  const [selectedId, setSelectedId] = useState(selectedDevice?.id || '');\r\n  const [brands, setBrands] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // load brands from JSON data\r\n    setBrands(devicesData.brands || []);\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const val = e.target.value;\r\n    setSelectedId(val);\r\n    const [brandKey, idx] = val.split('::');\r\n    const brand = brands.find(b => b.name === brandKey);\r\n    const model = brand ? brand.models[parseInt(idx, 10)] : null;\r\n    const dev = model ? { id: val, model, brand: brand.name, brandAr: brand.ar } : null;\r\n    onSelect && onSelect(dev);\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: '12px 0' }}>\r\n      <label style={{ display: 'block', marginBottom: 6, color: '#fff', fontWeight: 800 }}>{lang === 'ar' ? 'اختر موديل الجهاز' : 'Select device model'}</label>\r\n      <select value={selectedId} onChange={handleChange} style={{ width: '100%', padding: '12px 14px', borderRadius: 12, background: 'rgba(255,255,255,0.02)', color: '#fff', border: '1px solid rgba(255,255,255,0.06)', fontWeight: 700 }}>\r\n        <option value=\"\">{lang === 'ar' ? 'اختر الموديل' : 'Select model'}</option>\r\n        {brands.map((b) => (\r\n          <optgroup key={b.name} label={lang === 'ar' ? b.ar : b.name}>\r\n            {b.models.map((m, idx) => (\r\n              <option key={`${b.name}::${idx}`} value={`${b.name}::${idx}`}>{m}</option>\r\n            ))}\r\n          </optgroup>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeviceSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}